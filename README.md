# # ytcli

CLI tool to manage YouTube playlists.

# Shared ChatGPT session log 
  
# Setup Instructions for this project Using `uv`

```bash
uv init          # initialize project environment
uv sync          # install all dependencies from pyproject.toml
source .venv/bin/activate   # activate the virtual environment
uv run ./run.sh  # run your project
```
## TBD

uv run ./run.sh --email="lgtkgtv@gmail.com" has no effect 


# Project structure 

```
├── README.md                          # Project overview, usage instructions, documentation for users and developers
├── ChatGPT_log.md                     # Conversation or notes log from ChatGPT session (for reference/debugging)
├── client_secret.json                 # OAuth2 client credentials (sensitive, should be in .gitignore)
├── token_lgtkgtv_at_gmail.com.json    # OAuth2 access/refresh tokens (sensitive, should be in .gitignore)
├── dist/*                             # Distribution packages generated by setup/build (e.g., wheels, tar.gz); .gitignore’d
├── output.csv | json | md             # Output files generated by the CLI tool (e.g., reports, exports); .gitignore’d
├── requirements.txt                   # Optional minimal dependencies list for pip installs (alternative to pyproject.toml)
├── pyproject.toml                     # Poetry-style project config: dependencies, build system, metadata, CLI entry points
├── config.yaml                        # Configuration file parsed by CLI for default flags/settings
├── run.sh                             # Script to run the CLI tool or automate environment setup and execution
├── setup.py                           # Traditional setuptools build/install script (may complement pyproject.toml)
└── ytcli                              # Main Python package directory containing source code modules
    ├── cli.py                         # CLI command parsing, entry point logic
    ├── config.py                      # Code to load/parse configuration (e.g., config.yaml)
    ├── env.py                         # Environment setup, e.g., auth client initialization (Google API)
    ├── __init__.py                    # Package initializer, makes ytcli a Python package
    ├── playlist_utils.py              # Core business logic related to YouTube playlist manipulation
    └── __pycache__                    # Compiled Python bytecode files (auto-generated, should be .gitignore’d)
```


# 1 How to create the `OAuth2 client credentials`  `client_secret.json` for Google's YouTube API  

1. Go to [Google Cloud Console](https://console.cloud.google.com/).

2. Create or select a project. Give it a meaningful name like `ytcli-project`.

3. Enable **YouTube Data API v3** under **APIs & Services > Library**. Search for **YouTube Data API v3**. Click it, then click **Enable**.

4. Go to **APIs & Services > Credentials**.  
   Click **+ Create Credentials > OAuth client ID**.   
   Select **External** if your app is public, or **Internal** for G Suite accounts.  
   Fill in **App name**, **User support email**, and **Developer contact email**.  
   Application type: choose **Desktop app**.  
   Give it a name (e.g., `ytcli Desktop Client`).  
   Click **Create**.  
   
5. Configure the OAuth consent screen if prompted.  

6. Click **Create Credentials > OAuth client ID**.  
7. Select **Desktop app** as Application type, name it, and click **Create**.  
8. Download the JSON file (`client_secret.json`) and save it in your project folder.  
9. Add `client_secret.json` to `.gitignore`.  


# 2 How to create the OAuth2 access/refresh tokens 
 
1. Make sure you have your `client_secret.json` from Google Cloud (OAuth client credentials).

2. Use a Python script (or your CLI tool) that runs the OAuth flow with `google-auth-oauthlib` and `google-auth` libraries.

3. When you run the script, it will open a browser asking you to log in and authorize access.

4. After authorization, the script will receive an access token and a refresh token.

5. Save these tokens (usually in a file like `token.json` or similar) for future API calls.

**Example minimal Python snippet:**

```python
from google_auth_oauthlib.flow import InstalledAppFlow
import json

scopes = ["https://www.googleapis.com/auth/youtube.readonly"]
flow = InstalledAppFlow.from_client_secrets_file("client_secret.json", scopes)
creds = flow.run_local_server(port=0)

with open("token.json", "w") as token_file:
    token_file.write(creds.to_json())
```

Run this once, it will create `token.json` with access and refresh tokens.

---

**Summary:**

* Use your `client_secret.json`
* Run an OAuth flow script
* Authenticate interactively in browser
* Save generated tokens for reuse



